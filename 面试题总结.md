### 																				面试题总结

### Dubbo

---

1.  服务调用超时问题怎么解决？

> dubbo默认有重试机制，服务端设置了超时请求的时间后，就会有重试机制。去除重试次数 ，并且设置超时时间,业务代码放到服务端调用端不涉及业务代码。

```xml
<dubbo:provider delay="-1" timeout="6000" retries="0" ></dubbo>
```

2. 超时是针对消费端还是服务端?

>  针对消费端，消费端发送一个请求到服务端，若未在规定时间内返回则请求异常 ,此时服务端代码一直在执行。
>
> 针对服务端，消费端发送一个请求到服务端，服务端超过设置的执行时间，直接返回超时异常。

3. Dubbo支持哪些序列化方式？

>+ Henssian序列化：是修改过的Hessian lite，默认启用
>+ json序列化：使用FastJson库
>+ java 序列化：JDK 提供的序列化，性能不理想
>+ dubbo 序列化：未成熟的高效 java 序列化实现，不建议在生产环境使用

4. Dubbo和SpringCloud的关系？

>dubbo是阿里巴巴开发一款高性能rpc框 采用二进制流方式通信占用带宽少 面向接口编程 提供智能容错与负载均衡 服务的注册与发现 注重服务的治理

![dubbo架构图](C:\Users\Administrator\Desktop\notbook\notbook\rabbitmq\dubbo.png "图 1-1")

> springcloud 提供了一组服务框架的有序集合  gateway 网关、服务注册中心、断路器用于服务的降级与限流、config 服务配置中心、OpenFeign便于声明化调用http客户端 
>
> dubbo在微服务架构只是相当于一部分 而springcloud则包括微服务的全部

1.4 Dubbo的架构设计？一共划分了哪些层？

> 服务提供者provider、服务消费者consumer、注册中心register、监听器monitor、容器container
>
> + 服务接口层（service）：该层是与实际业务逻辑相关的，根据服务提供方和服务消费方的业务设计对应的接口和实现。
> + 配置层（config）：对外配置接口，以ServiceConfig和ReferenceConfig为中心，可以直接new配置类，也可以通过spring解析配置生成配置类。
> + 服务代理层（proxy）：服务接口透明代理，生成服务的客户端Stub和服务器端Skeleton，以ServiceProxy为中心，扩展接口为ProxyFactory。

 1.5 Dubbo的默认集群容错方案？

 1.6 Dubbo使用的是什么通信框架?

 1.7 Dubbo的主要应用场景？

 1.8 Dubbo服务注册与发现的流程？流程说明。

 1.9 Dubbo的集群容错方案有哪些？

 1.10 Dubbo的四大组件

 1.11 Dubbo在安全机制方面是如何解决的

 1.12 Dubbo和SpringCloud的区别？

 1.13 Dubbo支持哪些协议，每种协议的应用场景，优缺点？

 1.14 Dubbo的核心功能有哪些？

 1.15 Dubbo的注册中心集群挂掉，发布者和订阅者之间还能通信么？

 1.16 Dubbo的集群容错方案有哪些？

 1.17 Dubbo集群的负载均衡有哪些策略

 1.18 Dubbo 在安全机制方面是如何解决的

 1.19 为什么需要服务治理？

 1.20 Dubbo超时时间怎样设置？

\## 2 ElasticSearch



 2.1 你们公司的ES集群，一个node一般会分配几个分片？

 2.2 Elasticsearch是如何实现Master选举的？

 2.3 你是如何做写入调优的？

 2.4 如何避免脑裂？

 2.5 19-Elasticsearch对于大数据量（上亿量级）的聚合如何实现？

 2.6 ES主分片数量可以在后期更改吗？为什么？

 2.7 ES主分片数量可以在后期更改吗？为什么？

 2.8 如何监控集群状态？

 2.9 ElasticSearch中的副本是什么？

 2.10 20-Elasticsearch是如何实现Master选举的？

 2.11 20.ES更新数据的执行流程？

 2.12 shard里面是什么组成的？

 2.13 ElasticSearch中的分析器是什么？

 2.14 什么是脑裂？

 2.15 20-Elasticsearch是如何实现Master选举的

 2.16 客户端在和集群连接时，如何选择特定的节点执行请求的？

 2.17 Elasticsearch中的倒排索引是什么？

 2.18 什么是脑裂？

 2.19 什么是索引？索引（名词） 一个索引(index)

 2.20 详细描述一下Elasticsearch更新和删除文档的过程

\## 3 JVM



 3.1 JVM参数主要有⼏种分类

 3.2 3.Java中会存在内存泄漏吗，简述一下。

 3.3 Java虚拟机是如何判定两个Java类是相同的？

 3.4 Java 中都有哪些引用类型

 3.5 在 Java 中，对象什么时候可以被垃圾回收？

 3.6 19.StackOverflow异常有没有遇到过？一般你猜测会在什么情况下被触发？

 3.7 堆空间分哪些部分？以及如何设置各个部分？

 3.8 什么是栈帧？栈帧存储了什么？

 3.9 如何设置参数生成GC日志？

 3.10 GC 是什么？为什么要有 GC？

 3.12 使用过哪些jdk命令，并说明各个的作用是什么

 3.13 JVM运行时数据区区域分为哪⼏部分？

 3.14 是否了解类加载器双亲委派模型机制和破坏双亲委派模型？

 3.15 逃逸分析有几种类型？

 3.16 -Xms这些参数的含义是什么？

 3.17 你知道哪几种垃圾收集器,各自的优缺点，重点讲下cms和G1，包括原理，流程，优缺点。

 3.18 JVM的内存结构，Eden和Survivor比例是多少？

\## 4 多线程/高并发



 4.1 负载平衡的意义什么？

 4.2 请说出同步线程及线程调度相关的方法？

 4.3 关于epoll和select的区别，哪些说法 是正确的？（多选） 

A. epoll 和 select 都是 I/O 多路复用的技术，都可以实现同时监听 多个I/O事件的状态。 

B. epoll 相比 select 效率更高，主要是基于其操作系统支持的 I/O 事件通知机制，而select是基于轮询机制。 

C. epoll支持水平触发和边沿触发两种模式。 

D. select能并行支持I/O比较小，且无法修改。

 4.4 启动一个线程是调用run()方法还是start()方法？

 4.5 如何确保N个线程可以访问N个资源同时又不导致死锁？

 4.6 编写多线程程序的几种实现方式（换个问法：创建多线程的方式）？

 4.7 线程和进程的区别？

 4.8 什么是线程池，有哪些常用线程池？

 4.9 什么是死锁？

 4.10 怎么保证缓存和数据库数据的一致性？

\## 5 消息中间件



 5.1 消费者获取消息有几种模式？

 5.2 17.RocketMQ的特点有哪些？

 5.3 kafka 同时设置了 7 天和 10G 清除数据，到第五天的时候消息达到了 10G，这个时候 kafka将如何处理？

 5.4 为何需要Kafka集群

 5.5 Kafka 数据存储设计

 5.6 Kafka如何判断一个节点是否存活？

 5.7 kafka消息发送的可靠性机制有几种

 5.8 请详细说一下推送模式和拉取模式。

 5.9 Kafka 与传统消息系统之间有三个关键区别

 5.10 RocketMQ 由哪些角色组成？

 5.12 23.Kafka的消费者如何消费数据

 5.13 Kafka的优点

 5.14 Kafka 的设计时什么样的呢？

 5.15 说说你对Consumer的了解？

 5.16 Kafka新建的分区会在哪个目录下创建

 5.17 说一下Kafka消费者消费过程

 5.18 介绍下Kafka

 5.19 什么情况会导致Kafka运行变慢？

**一、亿级流量电商系统JVM性能调优实战**

1. 深入剖析Java虚拟机内存模型
2. JVM垃圾收集机制解密
3. 常见JVM诊断工具调优实战
4. 亿级流量电商网站JVM参数调优实战
5. 日均百万级交易系统JVM调优实战
6. Java虚拟机常见面试题剖析
7. 动手实战优化自己公司线上系统JVM
8. 作业安排

**二、亿级数据Mysql底层索引性能优化最佳实践**

1. 索引数据结构红黑树，Hash，B+树能说下吗？
2. 千万级数据表如何用索引快速查找？
3. 如何基于索引B+树精准建立高性能索引？
4. 联合索引底层数据结构又是怎样的？
5. 覆盖索引与聚集索引到底是什么？
6. Mysql最左前缀优化原则是什么？

**三、关于BIO，NIO，AIO，Netty及Redis线程模型**

1. BIO，NIO，AIO的区别？
2. 什么是阻塞IO以及非阻塞IO？ 
3. Reactor和Proactor IO设计模式是什么？
4. NIO底层select、poll和epoll实现的区别 ？
5. Java NIO的几个核心组成部分是什么？作用分别是什么？
6. Redis、Netty、Tomcat的线程模型与NIO的联系是什么？

### github 相关

-----

1.多个github账户使用同一台电脑？

```  shell
ssh-keygen -t rsa -f ~/.ssh/id_rsa_x -C "work_haoss@163.com"
touch config
vim config

Host 163.github.com
     HostName github.com
     PreferredAuthentications publickey
     IdentityFile ~/.ssh/id_rsa
     
Host qq.github.com
     HostName github.com
     PreferredAuthentications publickey
     IdentityFile ~/.ssh/id_rsa_book
```

